{"ast":null,"code":"var _jsxFileName = \"D:\\\\Leads\\\\MyWork\\\\React 17 and ASP.NET Core 6\\\\Movies\\\\ForntEnd\\\\react-movies\\\\src\\\\form\\\\ImageField.tsx\",\n  _s = $RefreshSig$();\nimport { error } from \"console\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ImageField(props) {\n  _s();\n  const divStyle = {\n    marginTop: '10px'\n  };\n  const imgStyle = {\n    width: '450px'\n  };\n  const [imageBase64, setImageBase64] = useState('');\n  const handleOnChange = eventsArgs => {\n    if (eventsArgs.currentTarget.files) {\n      const file = eventsArgs.currentTarget.files[0];\n      if (file) {\n        toBase64(file).then(base64Representation => setImageBase64(base64Representation)).catch(error => console.log(error));\n      } else {\n        setImageBase64('');\n      }\n    }\n  };\n  const toBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = () => reject(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: props.displayField\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".jpg,.png,.jpeg\",\n        onChange: handleOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), imageBase64 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: divStyle,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: imgStyle,\n            src: imageBase64,\n            alt: \"Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(ImageField, \"/Lly3tysq2QB4KYLY0p5fs1w3Ao=\");\n_c = ImageField;\nvar _c;\n$RefreshReg$(_c, \"ImageField\");","map":{"version":3,"names":["error","useState","jsxDEV","_jsxDEV","ImageField","props","_s","divStyle","marginTop","imgStyle","width","imageBase64","setImageBase64","handleOnChange","eventsArgs","currentTarget","files","file","toBase64","then","base64Representation","catch","console","log","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","className","children","displayField","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","style","src","alt","_c","$RefreshReg$"],"sources":["D:/Leads/MyWork/React 17 and ASP.NET Core 6/Movies/ForntEnd/react-movies/src/form/ImageField.tsx"],"sourcesContent":["import { render } from \"@testing-library/react\";\r\nimport { error } from \"console\";\r\nimport { resolve } from \"path\";\r\nimport { ChangeEvent, useState } from \"react\";\r\n\r\nexport default function ImageField(props: imageFieldProps) {\r\n\r\n    const divStyle = { marginTop: '10px' }\r\n    const imgStyle = { width: '450px' }\r\n    const [imageBase64, setImageBase64] = useState('');\r\n    const handleOnChange = (eventsArgs: ChangeEvent<HTMLInputElement>) => {\r\n        if (eventsArgs.currentTarget.files) {\r\n            const file = eventsArgs.currentTarget.files[0];\r\n            if (file) {\r\n                toBase64(file)\r\n                    .then((base64Representation: string) => setImageBase64(base64Representation))\r\n                    .catch(error => console.log(error))\r\n            }\r\n            else {\r\n                setImageBase64('');\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const toBase64 = (file: File) => {\r\n        return new Promise<string>((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result as string);\r\n            reader.onerror = () => reject(error);\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"mb-3\">\r\n            <label>{props.displayField}</label>\r\n            <div>\r\n                <input type=\"file\" accept=\".jpg,.png,.jpeg\" onChange={handleOnChange} />\r\n                {\r\n                    imageBase64 ?\r\n                        <div>\r\n                            <div style={divStyle}>\r\n                                <img style={imgStyle} src={imageBase64} alt=\"Selected\" />\r\n                            </div>\r\n                        </div> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface imageFieldProps {\r\n\r\n    displayField: string\r\n}"],"mappings":";;AACA,SAASA,KAAK,QAAQ,SAAS;AAE/B,SAAsBC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,UAAUA,CAACC,KAAsB,EAAE;EAAAC,EAAA;EAEvD,MAAMC,QAAQ,GAAG;IAAEC,SAAS,EAAE;EAAO,CAAC;EACtC,MAAMC,QAAQ,GAAG;IAAEC,KAAK,EAAE;EAAQ,CAAC;EACnC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAMY,cAAc,GAAIC,UAAyC,IAAK;IAClE,IAAIA,UAAU,CAACC,aAAa,CAACC,KAAK,EAAE;MAChC,MAAMC,IAAI,GAAGH,UAAU,CAACC,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC;MAC9C,IAAIC,IAAI,EAAE;QACNC,QAAQ,CAACD,IAAI,CAAC,CACTE,IAAI,CAAEC,oBAA4B,IAAKR,cAAc,CAACQ,oBAAoB,CAAC,CAAC,CAC5EC,KAAK,CAACrB,KAAK,IAAIsB,OAAO,CAACC,GAAG,CAACvB,KAAK,CAAC,CAAC;MAC3C,CAAC,MACI;QACDY,cAAc,CAAC,EAAE,CAAC;MACtB;IACJ;EAEJ,CAAC;EAED,MAAMM,QAAQ,GAAID,IAAU,IAAK;IAC7B,OAAO,IAAIO,OAAO,CAAS,CAACC,OAAO,EAAEC,MAAM,KAAK;MAC5C,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,aAAa,CAACZ,IAAI,CAAC;MAC1BU,MAAM,CAACG,MAAM,GAAG,MAAML,OAAO,CAACE,MAAM,CAACI,MAAgB,CAAC;MACtDJ,MAAM,CAACK,OAAO,GAAG,MAAMN,MAAM,CAAC1B,KAAK,CAAC;IACxC,CAAC,CAAC;EACN,CAAC;EACD,oBACIG,OAAA;IAAK8B,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACjB/B,OAAA;MAAA+B,QAAA,EAAQ7B,KAAK,CAAC8B;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACnCpC,OAAA;MAAA+B,QAAA,gBACI/B,OAAA;QAAOqC,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,iBAAiB;QAACC,QAAQ,EAAE7B;MAAe;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAEpE5B,WAAW,gBACPR,OAAA;QAAA+B,QAAA,eACI/B,OAAA;UAAKwC,KAAK,EAAEpC,QAAS;UAAA2B,QAAA,eACjB/B,OAAA;YAAKwC,KAAK,EAAElC,QAAS;YAACmC,GAAG,EAAEjC,WAAY;YAACkC,GAAG,EAAC;UAAU;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,GAAG,IAAI;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEpB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACjC,EAAA,CA5CuBF,UAAU;AAAA0C,EAAA,GAAV1C,UAAU;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}